package net.loyin.model.sys;

import java.util.List;

import net.loyin.jfinal.anatation.TableBind;

import com.jfinal.plugin.activerecord.Model;
/**
 *微信菜单 
 * @author 龙影
 */
@TableBind(name="sp_wx_menu",pk="ID")
public class Wxmenu extends Model<Wxmenu> {
	private static final long serialVersionUID = -951390655263235556L;
	public static String tableName="sp_wx_menu";
	public static final Wxmenu dao=new Wxmenu();
	public List<Wxmenu> findMenuList() {
		return this.find("select * from "+tableName+" where status=1 order by listorder asc");
	}
	public List<Wxmenu> findTopMenuList() {
		return this.find("select * from "+tableName+" where status=1 and (pid is null or pid=0) order by listorder asc");
	}
	/**
	 * 根据父ID查询状态子菜单
	 * @param pid
	 * @param status
	 * @return
	 */
	public List<Wxmenu> getByPid(Long pid, int status) {
		return this.find("select * from "+tableName+" where status=? and pid=? order by listorder asc",status,pid);
	}
}
