package net.loyin.model.sys;

import java.text.SimpleDateFormat;
import java.util.Date;

import net.loyin.jfinal.anatation.TableBind;

import com.jfinal.plugin.activerecord.Model;
/***
 * 操作日志
 * @author 刘声凤
 *2013年10月21日
 */
@TableBind(name = "SP_OPRLOG",pk="ID")
public class OperaLog extends Model<OperaLog> {
	private static SimpleDateFormat df=new SimpleDateFormat("yyyy-MM-dd HH:mm:ss");
	private static final long serialVersionUID = 7051335669147016165L;
	public static String tableName="SP_OPRLOG";
	public static OperaLog dao = new OperaLog();
	/**
	 * 保存操作日志
	 * @param uid 用户ID
	 * @param ip 
	 * @param content 操作内容
	 * @param rst 操作结果 0失败 1成功
	 */
	public void saveLog(Long uid,String ip,String content,int rst){
		OperaLog m=new OperaLog();
		m.set("uid",uid);
		m.set("ip",ip);
		m.set("rcd",content);
		m.set("rst",rst);
		m.set("ctime",df.format(new Date()));
		m.save();
	}
}
