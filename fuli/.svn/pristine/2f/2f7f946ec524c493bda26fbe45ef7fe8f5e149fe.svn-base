package net.loyin.util.vcode;

import java.text.DecimalFormat;

import org.junit.Test;


public class TestClz {
	public static void main(String[] args) {
		try{
		 /*Captcha captcha = new SpecCaptcha(150,40,5);// png格式验证码
	        captcha.out(new FileOutputStream("E:/1.png"));
	        System.out.println(captcha.text());
	        captcha = new GifCaptcha(150,40,5);//   gif格式动画验证码
	        captcha.out(new FileOutputStream("E:/1.gif"));
	        System.out.println(captcha.text());*/
//			System.out.println(TestClz.class.getResource("/").toString());
//			System.out.println(URLEncoder.encode("http://guniang.loyin.net/Wechat/oauth2"));
//			System.out.println(new Timestamp(1397130470).getDate());
			//古酿推算
			DecimalFormat nf=new DecimalFormat("#,##0");
			int price=268;
			int nn=8;
			System.out.println("只购买1瓶酒的计算结果:");
			for(int j=nn;j>=0;j--){
				double pcount=0;//人数
				int sale_total=0,fanli_total=0;
				for(int i=0;i<=j;i++){//推算级数
					double n=Math.pow(8, j-i);
					pcount+=n;
					sale_total+=n*price;
					double fanli=0;
					if(i>0){
						fanli= (n*0.4*price);
					}else{
						fanli= (price*0.2);
					}
					fanli_total+=fanli;
					//每次帮主的反50%的成员收益
					fanli_total+=0;
					System.out.println("第"+(j-i+1)+"级返利"+nf.format(fanli));
				}
				System.out.println("\n"+j+1+"级卖出量："+nf.format(pcount)+"\t销售:"+nf.format(sale_total)+"\t返利："+nf.format(fanli_total)+"\t结余："+nf.format(sale_total-fanli_total));
				System.out.println("==================");
			}
			System.out.println("帮主再买1瓶酒的计算结果:");
			for(int j=nn;j>=0;j--){
				double pcount=0;//人数
				double sale_total=0,fanli_total=0;
				for(int i=0;i<=j;i++){//推算级数
					double n=Math.pow(8, j-i);
					pcount+=n;
					sale_total+=n*price;
					double fanli=0;
					if(i>0){
						fanli= (n*0.4*price);
					}else{
						fanli= (price*0.2);
					}
					//每次帮主的反50%的成员收益第二次购买是按0.12的返利计算
					if(i<8)
					fanli+=(Math.pow(8, j-i-1)*0.2*0.5+0.12+Math.pow(8, j-i-2)*0.2)*price;
					fanli_total+=fanli;
					System.out.println("第"+(j-i+1)+"级返利"+nf.format(fanli));
				}
				System.out.println("\n"+j+1+"级卖出量："+nf.format(pcount)+"\t销售:"+nf.format(sale_total)+"\t返利："+nf.format(fanli_total)+"\t结余："+nf.format(sale_total-fanli_total));
				System.out.println("==================");
			}
		}catch(Exception e){
			e.printStackTrace();
		}
	}
	@Test
	public void test1(){
		String c="1234567890";
		System.out.println(c.substring(3,4));
	}
}
